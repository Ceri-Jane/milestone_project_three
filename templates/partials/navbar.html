<nav class="navbar navbar-expand nav-color" role="navigation" aria-label="Main navigation">
    <div class="container d-flex justify-content-between align-items-center">

        <!-- Logo -->
        <a class="navbar-brand" href="{% url 'home' %}" aria-label="QuickFlicks Home">
            QuickFlicks
        </a>

        <div class="d-flex align-items-center">

            {% if user.is_authenticated %}

            <!-- Profile Dropdown -->
            <div class="dropdown">
                <button class="btn btn-outline dropdown-toggle"
                        type="button"
                        id="profileDropdown"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                        aria-haspopup="true"
                        aria-label="Profile options menu">
                    My Profile
                </button>

                <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end"
                    aria-labelledby="profileDropdown">

                    <!-- View Profile -->
                    <li>
                        <a class="dropdown-item" href="{% url 'profile' %}">
                            üë§ View Profile
                        </a>
                    </li>

                    <!-- My Shelf -->
                    <li>
                        <a class="dropdown-item" href="{% url 'my_shelf' %}">
                            üé¨ My Shelf
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <!-- Change Username -->
                    <li>
                        <a class="dropdown-item" href="{% url 'change_username' %}">
                            ‚úèÔ∏è Change Username
                        </a>
                    </li>

                    <!-- Change Email -->
                    <li>
                        <a class="dropdown-item" href="{% url 'change_email' %}">
                            üìß Change Email
                        </a>
                    </li>

                    <!-- Change Password -->
                    <li>
                        <a class="dropdown-item" href="{% url 'change_password' %}">
                            üîê Change Password
                        </a>
                    </li>

                    <li><hr class="dropdown-divider"></li>

                    <!-- Logout Button -->
                    <li>
                        <form method="post" action="{% url 'logout' %}" class="px-3 py-2">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger w-100 d-flex align-items-center justify-content-center gap-2">
                                <span aria-hidden="true">üö™</span>
                                Logout
                            </button>
                        </form>
                    </li>

                </ul>
            </div>

            {% else %}

            <!-- Login -->
            <a class="btn btn-outline me-2"
               href="{% url 'login' %}"
               aria-label="Login to your QuickFlicks account">
                Login
            </a>

            <!-- Sign Up -->
            <a class="btn btn-outline"
               href="{% url 'signup' %}"
               aria-label="Create a QuickFlicks account">
                Sign Up
            </a>

            {% endif %}

        </div>
    </div>
</nav>
