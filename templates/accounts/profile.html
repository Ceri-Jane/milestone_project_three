{% extends "base.html" %}
{% load static %}

{# Page-specific SEO overrides: custom title + meta tags #}

{% block title %}
<title>QuickFlicks | My Profile</title>
{% endblock %}

{% block meta_description %}
<meta name="description" content="Manage your QuickFlicks account, view your movie shelves, and update your profile settings.">
{% endblock %}

{% block meta_keywords %}
<meta name="keywords" content="profile, account settings, movie shelves, quickflicks user">
{% endblock %}


{% block content %}

<div class="profile-page container py-5 d-flex justify-content-center align-items-start"
     role="region"
     aria-labelledby="profile-title">

    <section class="profile-card">

        <!-- Page greeting for both visual and screen-reader users -->
        <h1 class="profile-greeting" id="profile-title">
            Hello, {{ user.username }} ğŸ‘‹
        </h1>

        <!-- Email display (read-only information) -->
        <p class="profile-email" aria-label="Your registered email address: {{ user.email }}">
            {{ user.email }}
        </p>

        <!-- Main actions for the user's movie shelves / browsing -->
        <div class="profile-actions">

            <!-- View user's saved films -->
            <a href="{% url 'my_shelf' %}" 
               class="btn btn-outline w-100 mb-3"
               aria-label="View your movie shelf">
                ğŸ¬ View My Shelf
            </a>

            <!-- Link to search form -->
            <a href="{% url 'home' %}"
               class="btn btn-outline w-100 mb-4"
               aria-label="Search for films">
                ğŸ” Search for Films
            </a>
        </div>

        <!-- Divider -->
        <div class="page-divider" role="separator"></div>

        <!-- Account Settings Section -->
        <h2 class="profile-subheading">Account Settings</h2>

        <a href="{% url 'change_username' %}" 
           class="btn btn-outline w-100 mb-2"
           aria-label="Change your username">
            âœï¸ Change Username
        </a>

        <a href="{% url 'change_email' %}" 
           class="btn btn-outline w-100 mb-2"
           aria-label="Change your email address">
            ğŸ“§ Change Email
        </a>

        <a href="{% url 'password_change' %}" 
           class="btn btn-outline w-100 mb-4"
           aria-label="Change your password">
            ğŸ”’ Change Password
        </a>

        <!-- Divider -->
        <div class="page-divider" role="separator"></div>

        <!-- Logout -->
        <!-- aria-label included on the form for clarity -->
        <form method="POST"
              action="{% url 'logout' %}"
              aria-label="Log out of your QuickFlicks account safely">
            {% csrf_token %}
            <button type="submit"
                    class="btn btn-danger w-100"
                    aria-label="Log out">
                ğŸšª Logout
            </button>
        </form>

    </section>
</div>

{% endblock %}
